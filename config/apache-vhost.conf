<VirtualHost *:80>
  ServerName dailyerosion.org
  ServerAlias www.dailyerosion.org
  ServerAlias idep.agron.iastate.edu
  ServerAlias idep.local
  DocumentRoot /mesonet/www/apps/idep/htdocs
  # Use a daily deadicated log file, this avoids server reloads every day
  # which are not much fun when servicing a 1,000 req/sec
  CustomLog "|/usr/sbin/rotatelogs /mesonet/www/logs/idep-%Y%m%d 86400" combined
  ServerAdmin akrherz@iastate.edu

  Alias /static/ "/mnt/idep/2/data/static/"
  <Directory "/mnt/idep/2/data/static/">
  	Options Indexes MultiViews
  </Directory>

  Alias /usage/ "/mesonet/share/usage/idep.agron.iastate.edu/"
  <Directory "/mesonet/share/usage/idep.agron.iastate.edu/">
    Options Indexes MultiViews
    AllowOverride None
    Order allow,deny
    Allow from all
  </Directory>

  <Directory "/mesonet/www/apps/idep/htdocs">
    Options Indexes MultiViews FollowSymLinks
    AllowOverride All
  </Directory>

  Alias "/admin" "/mesonet/www/apps/idep/admin"
  <Directory "/mesonet/www/apps/idep/admin">
        AuthUserFile /mesonet/www/apps/iemwebsite/config/admin.users
        AuthGroupFile /dev/null
        AuthName Administrative
        AuthType Basic

        order deny,allow
        require user dep
    
    Options Indexes MultiViews FollowSymLinks
    AllowOverride All
  </Directory>

  # Since RHEL Apache does not log 404s, sigh
  ErrorDocument 404 /error404.php
</VirtualHost>